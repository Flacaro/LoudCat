<!DOCTYPE html>
<html lang="it">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>LoudCat ðŸŽµ</title>

    <link rel="stylesheet" href="assets/css/prova.css" />
    <link rel="stylesheet" href="assets/css/style.css" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
</head>

<body>

    <header class="py-3 mb-4 border-bottom position-sticky top-0 z-3 shadow-sm bg-dark text-light">
        <div class="container-fluid d-flex align-items-center justify-content-between">


            <div class="d-flex align-items-center gap-2">
                <button id="homeBtn" class="btn btn-outline-primary" title="Home">
                    <img src="assets/logo/LoudCatLogo.PNG" alt="App Logo" class="logo">
                </button>
                <h5 id="logo" class="mb-0">LoudCat</h5>
            </div>


            <form id="search-form" class="d-flex flex-grow-1 justify-content-center" role="search"
                onsubmit="return false;">
                <input id="search-input" class="form-control me-2" type="search" placeholder="Cerca..."
                    aria-label="Search" style="max-width: 400px;">
                <button id="search-btn" class="btn btn-primary" type="button">Cerca</button>
            </form>


            <div id="header-actions" class="d-flex align-items-center gap-2">
                <span id="welcome-message" class="text-muted small d-none"></span>
                <button id="profileBtn" class="btn btn-sm btn-light d-none">Profilo</button>
                <button id="logoutBtn" class="btn btn-sm btn-outline-secondary d-none">Logout</button>
                <button id="loginBtn" class="btn btn-sm btn-light">Accedi</button>
                <button id="registerBtn" class="btn btn-sm btn-outline-primary">Registrati</button>
            </div>

        </div>
        <!-- Menu hamburger per mobile -->
        <div id="mobile-menu-btn" class="d-flex d-md-none align-items-center">
            <button class="btn btn-light btn-sm">â˜°</button>
        </div>

        <!-- Menu a tendina mobile (inizialmente nascosto) -->
        <div id="mobile-menu" class="d-none position-absolute top-100 end-0 bg-dark text-light p-3 shadow"
            style="min-width: 150px;">
            <button id="profileBtnMobile" class="btn btn-sm btn-light w-100 mb-2">Profilo</button>
            <button id="logoutBtnMobile" class="btn btn-sm btn-outline-light w-100 mb-2">Logout</button>
            <button id="loginBtnMobile" class="btn btn-sm btn-light w-100 mb-2">Accedi</button>
            <button id="registerBtnMobile" class="btn btn-sm btn-outline-primary w-100">Registrati</button>
        </div>


    </header>


    <div id="app-layout" class="d-flex">
        <aside id="sidebar-library" class="p-3">
            <h5>La tua libreria</h5>
            <div class="nav flex-column" id="v-pills-tab" role="tablist" aria-orientation="vertical">
                <button class="btn btn-dark sidebar-link text-start mb-2" id="sidebar-playlist-btn" type="button"
                    data-view="playlist">Playlist</button>
                <button class="btn btn-dark sidebar-link text-start mb-2" id="sidebar-artist-btn" type="button"
                    data-view="artist">Artisti</button>
                <button class="btn btn-dark sidebar-link text-start mb-2" id="sidebar-album-btn" type="button"
                    data-view="album">Album</button>
            </div>

            <div class="mt-4">
                <h6 class="text-muted">Brani salvati</h6>
                <ul id="sidebar-user-playlists" class="list-unstyled small mt-2">
                </ul>
            </div>
        </aside>

        <main class="flex-grow-1 p-3">
            <section id="home-container">
                <h2 class="mb-3">La tua Home</h2>
            </section>

            <section id="results-section" style="display:none">
                <h2 class="mb-3">Risultati ricerca</h2>
                <div id="results-container" class="row gy-3"></div>
            </section>
        </main>
    </div>

    <section id="auth" class="container my-4" style="display:none">
        <h2 class="mb-3">Accesso utente</h2>
        <div class="mb-3">
            <div id="registerFields">
                <input id="username" type="text" class="form-control mb-2" placeholder="Username " />
                <input id="photoFile" type="file" accept="image/*" class="form-control mb-2" />
                <div class="mb-2">
                    <img id="photoPreview" src="assets/img/avatar-placeholder.svg" alt="Anteprima avatar" width="80"
                        height="80" class="rounded-circle" style="display:block;" />
                </div>
            </div>

            <input id="email" type="email" class="form-control mb-2" placeholder="Email" />
            <input id="password" type="password" class="form-control mb-2" placeholder="Password" />

            <div class="d-flex gap-2 mt-2">
                <button id="confirmRegisterBtn" class="btn btn-success">Conferma registrazione</button>
                <button id="confirmLoginBtn" class="btn btn-success" style="display:none">Login</button>
                <button id="cancelAuthBtn" class="btn btn-secondary">Annulla</button>
            </div>
        </div>
    </section>

    <section id="data" class="container my-4" style="display:none">
        <h2 class="mb-3">Dati dellâ€™utente</h2>
        <button id="loadBtn" class="btn btn-secondary mb-3">Carica dati</button>
        <ul id="output" class="list-group"></ul>
    </section>

    <div id="profileModal" class="modal-overlay" style="display:none">
        <div class="modal-panel">
            <div class="modal-header d-flex align-items-center justify-content-between">
                <h5 class="mb-0">Account</h5>
                <button id="closeProfileBtn" class="btn-close" aria-label="Close"></button>
            </div>

            <div class="modal-nav btn-group my-3" role="group">
                <button class="btn btn-sm btn-outline-primary" data-tab="profile">Profilo</button>
                <button class="btn btn-sm btn-outline-primary" data-tab="friends">Amici</button>
                <button class="btn btn-sm btn-outline-primary" data-tab="settings">Impostazioni</button>
            </div>

            <div id="profileContent">
                <section data-panel="profile">
                    <h6>Informazioni profilo</h6>
                    <div class="d-flex align-items-center mb-2">
                        <img id="profileAvatar" src="assets/img/avatar-placeholder.svg" alt="Avatar" width="64"
                            height="64" class="rounded-circle me-3" />
                        <div>
                            <p id="profileEmail" class="mb-0">Email: -</p>
                            <p id="profileName" class="mb-0">Username: -</p>
                        </div>
                    </div>
                    <div class="mt-3">
                        <h6 class="mb-1">Condivise da te</h6>
                        <ul id="sharedByMeList" class="list-group mb-2"></ul>
                        <h6 class="mb-1">Condivise con te</h6>
                        <ul id="sharedWithMeList" class="list-group"></ul>
                    </div>
                </section>

                <section data-panel="friends" style="display:none">
                    <h6>Amici</h6>
                    <ul id="friendsList" class="list-group"></ul>
                </section>

                <section data-panel="settings" style="display:none">
                    <h6>Impostazioni</h6>
                    <div class="mb-2">
                        <label for="newUsername" class="form-label">Nuovo username</label>
                        <input id="newUsername" type="text" class="form-control mb-2" placeholder="Nuovo username " />
                        <label for="currentPassword" class="form-label">Password attuale</label>
                        <input id="currentPassword" type="password" class="form-control mb-2"
                            placeholder="Password attuale" />
                        <label for="newPassword" class="form-label">Nuova password</label>
                        <input id="newPassword" type="password" class="form-control mb-2"
                            placeholder="Nuova password (min 6 caratteri)" />
                        <label for="confirmPassword" class="form-label">Conferma nuova password</label>
                        <input id="confirmPassword" type="password" class="form-control mb-2"
                            placeholder="Conferma nuova password" />
                    </div>
                    <div class="mt-3">
                        <button id="resetFavBtn" class="btn btn-sm btn-outline-danger me-2">Reset i miei
                            preferiti</button>
                        <button id="resetPlaylistsBtn" class="btn btn-sm btn-outline-danger me-2">Reset le mie
                            playlist</button>
                        <button id="resetFriendsBtn" class="btn btn-sm btn-outline-danger">Reset lista amici</button>
                    </div>
                    <div class="mt-2">
                        <button id="saveSettingsBtn" class="btn btn-sm btn-success">Salva</button>
                        <div id="settingsFeedback" class="form-text mt-2"></div>
                    </div>
                </section>
            </div>
        </div>
    </div>

    <div id="playlistModal" class="playlist-modal hidden">
        <div class="playlist-modal-content">
            <h5>Seleziona una playlist</h5>
            <ul class="playlist-list">
            </ul>
            <button class="modal-close-btn">Annulla</button>
        </div>
    </div>


    <footer class="text-center py-3 mt-5 border-top">
        <p class="mb-0">Â© 2025 LoudCat â€“ Catalogo Musicale Client-side</p>
    </footer>

    <script type="module" src="src/main.js"></script>
    <script src="https://e-cdns-files.dzcdn.net/js/min/dz.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>